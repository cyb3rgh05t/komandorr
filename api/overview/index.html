<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=author content=cyb3rgh05t><link href=https://cyb3rgh05t.github.io/komandorr/api/overview/ rel=canonical><link rel="shortcut icon" href=../../img/favicon.ico><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><title>Overview - Komandorr Documentation</title><link href=../../css/bootstrap-3.3.7.min.css rel=stylesheet><link href=../../css/font-awesome-4.7.0.css rel=stylesheet><link href=../../css/base.css rel=stylesheet><link rel=stylesheet href=../../css/highlight.css><link href=../../css/timeago.css rel=stylesheet><link href=../../stylesheets/extra.css rel=stylesheet><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries --><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]--><script src=../../js/jquery-3.2.1.min.js></script><script src=../../js/bootstrap-3.3.7.min.js></script><script src=../../js/highlight.pack.js></script><base target=_top><script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "API Overview", url: "#_top", children: [
              {title: "Base URL", url: "#base-url" },
              {title: "API Documentation", url: "#api-documentation" },
              {title: "Authentication", url: "#authentication" },
              {title: "Response Format", url: "#response-format" },
              {title: "API Endpoints", url: "#api-endpoints" },
              {title: "Rate Limiting", url: "#rate-limiting" },
              {title: "CORS", url: "#cors" },
              {title: "Versioning", url: "#versioning" },
              {title: "Client Libraries", url: "#client-libraries" },
              {title: "Examples", url: "#examples" },
              {title: "Best Practices", url: "#best-practices" },
              {title: "API Reference", url: "#api-reference" },
              {title: "Interactive Testing", url: "#interactive-testing" },
              {title: "Support", url: "#support" },
          ]},
        ];

    </script><script src=../../js/base.js></script><script src=../../js/timeago.min.js></script><script src=../../js/timeago_mkdocs_material.js></script><script src=../../javascripts/extra.js></script><script src=../../search/main.js></script></head> <body> <script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script> <div class="container-fluid wm-page-content"> <a name=_top></a> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../services/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../services/ class="btn btn-xs btn-link"> Services API </a> </div> <div class=wm-article-nav> <a href=../../configuration/traffic-agent/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../../configuration/traffic-agent/ class="btn btn-xs btn-link"> Traffic Agent </a> </div> </div> <h1 id=api-overview>API Overview<a class=headerlink href=#api-overview title="Permanent link">&para;</a></h1> <p>Komandorr provides a comprehensive RESTful API built with FastAPI, offering complete programmatic access to all features.</p> <h2 id=base-url>Base URL<a class=headerlink href=#base-url title="Permanent link">&para;</a></h2> <p><strong>Local Development:</strong></p> <pre class=highlight><code>http://localhost:8000</code></pre> <p><strong>Docker Deployment:</strong></p> <pre class=highlight><code>http://your-server:8000</code></pre> <h2 id=api-documentation>API Documentation<a class=headerlink href=#api-documentation title="Permanent link">&para;</a></h2> <p>Komandorr includes interactive API documentation powered by Swagger UI.</p> <h3 id=access-swagger-ui>Access Swagger UI<a class=headerlink href=#access-swagger-ui title="Permanent link">&para;</a></h3> <p>Visit the <code>/docs</code> endpoint:</p> <pre class=highlight><code>http://localhost:8000/docs</code></pre> <p>Features:</p> <ul> <li><strong>Dark Theme</strong>: Matches Komandorr's design</li> <li><strong>Try It Out</strong>: Test endpoints directly in browser</li> <li><strong>Request/Response Examples</strong>: See sample data</li> <li><strong>Authentication</strong>: Test with your credentials</li> <li><strong>Download OpenAPI Spec</strong>: Get the full API specification</li> </ul> <h3 id=openapi-specification>OpenAPI Specification<a class=headerlink href=#openapi-specification title="Permanent link">&para;</a></h3> <p>Download the raw OpenAPI JSON:</p> <pre class=highlight><code>http://localhost:8000/openapi.json</code></pre> <p>Use this with:</p> <ul> <li>Postman</li> <li>Insomnia</li> <li>API clients and code generators</li> </ul> <h2 id=authentication>Authentication<a class=headerlink href=#authentication title="Permanent link">&para;</a></h2> <h3 id=basic-auth-optional>Basic Auth (Optional)<a class=headerlink href=#basic-auth-optional title="Permanent link">&para;</a></h3> <p>When <code>ENABLE_AUTH=true</code>, all endpoints require Basic Authentication:</p> <pre class=highlight><code class=language-http>GET /api/services
Authorization: Basic base64(username:password)</code></pre> <p><strong>Example with curl:</strong></p> <pre class=highlight><code class=language-bash>curl -u admin:password http://localhost:8000/api/services</code></pre> <p><strong>Example with JavaScript:</strong></p> <pre class=highlight><code class=language-javascript>const headers = {
  Authorization: "Basic " + btoa("admin:password"),
};

fetch("http://localhost:8000/api/services", { headers })
  .then((res) =&gt; res.json())
  .then((data) =&gt; console.log(data));</code></pre> <h3 id=no-authentication>No Authentication<a class=headerlink href=#no-authentication title="Permanent link">&para;</a></h3> <p>When <code>ENABLE_AUTH=false</code>, all endpoints are publicly accessible.</p> <h2 id=response-format>Response Format<a class=headerlink href=#response-format title="Permanent link">&para;</a></h2> <h3 id=success-response>Success Response<a class=headerlink href=#success-response title="Permanent link">&para;</a></h3> <pre class=highlight><code class=language-json>{
  "data": { ... },
  "status": "success"
}</code></pre> <p>or</p> <pre class=highlight><code class=language-json>{
  "services": [ ... ]
}</code></pre> <h3 id=error-response>Error Response<a class=headerlink href=#error-response title="Permanent link">&para;</a></h3> <pre class=highlight><code class=language-json>{
  "detail": "Error message here"
}</code></pre> <p><strong>HTTP Status Codes:</strong></p> <table> <thead> <tr> <th>Code</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td>200</td> <td>Success</td> </tr> <tr> <td>201</td> <td>Created</td> </tr> <tr> <td>400</td> <td>Bad Request</td> </tr> <tr> <td>401</td> <td>Unauthorized</td> </tr> <tr> <td>404</td> <td>Not Found</td> </tr> <tr> <td>422</td> <td>Validation Error</td> </tr> <tr> <td>500</td> <td>Server Error</td> </tr> </tbody> </table> <h2 id=api-endpoints>API Endpoints<a class=headerlink href=#api-endpoints title="Permanent link">&para;</a></h2> <h3 id=core-endpoints>Core Endpoints<a class=headerlink href=#core-endpoints title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Endpoint</th> <th>Method</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>/api/health</code></td> <td>GET</td> <td>Health check</td> </tr> <tr> <td><code>/api/config</code></td> <td>GET</td> <td>Get configuration</td> </tr> <tr> <td><code>/api/version</code></td> <td>GET</td> <td>Get version info</td> </tr> </tbody> </table> <h3 id=services>Services<a class=headerlink href=#services title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Endpoint</th> <th>Method</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>/api/services</code></td> <td>GET</td> <td>List all services</td> </tr> <tr> <td><code>/api/services</code></td> <td>POST</td> <td>Create service</td> </tr> <tr> <td><code>/api/services/{id}</code></td> <td>GET</td> <td>Get service by ID</td> </tr> <tr> <td><code>/api/services/{id}</code></td> <td>PUT</td> <td>Update service</td> </tr> <tr> <td><code>/api/services/{id}</code></td> <td>DELETE</td> <td>Delete service</td> </tr> <tr> <td><code>/api/services/{id}/check</code></td> <td>POST</td> <td>Manual health check</td> </tr> </tbody> </table> <h3 id=plex>Plex<a class=headerlink href=#plex title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Endpoint</th> <th>Method</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>/api/plex/config</code></td> <td>GET</td> <td>Get Plex config</td> </tr> <tr> <td><code>/api/plex/config</code></td> <td>POST</td> <td>Save Plex config</td> </tr> <tr> <td><code>/api/plex/validate</code></td> <td>POST</td> <td>Validate connection</td> </tr> <tr> <td><code>/api/plex/activities</code></td> <td>GET</td> <td>Get activities</td> </tr> <tr> <td><code>/api/downloads</code></td> <td>GET</td> <td>Alias for activities</td> </tr> </tbody> </table> <h3 id=traffic>Traffic<a class=headerlink href=#traffic title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Endpoint</th> <th>Method</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>/api/traffic/update</code></td> <td>POST</td> <td>Update traffic data</td> </tr> <tr> <td><code>/api/traffic/summary</code></td> <td>GET</td> <td>Get traffic summary</td> </tr> <tr> <td><code>/api/traffic/{service_id}</code></td> <td>GET</td> <td>Get service traffic</td> </tr> </tbody> </table> <h3 id=authentication_1>Authentication<a class=headerlink href=#authentication_1 title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Endpoint</th> <th>Method</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>/api/auth/status</code></td> <td>GET</td> <td>Check auth status</td> </tr> </tbody> </table> <h2 id=rate-limiting>Rate Limiting<a class=headerlink href=#rate-limiting title="Permanent link">&para;</a></h2> <p>Currently, there are <strong>no rate limits</strong> on API endpoints.</p> <div class="admonition warning"> <p class=admonition-title>Production Deployment</p> </div> <p>Consider implementing rate limiting when deploying to production, especially for public-facing instances.</p> <h2 id=cors>CORS<a class=headerlink href=#cors title="Permanent link">&para;</a></h2> <p>CORS is configured via the <code>CORS_ORIGINS</code> environment variable.</p> <p><strong>Default origins:</strong></p> <pre class=highlight><code class=language-bash>CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8000</code></pre> <p><strong>Custom origins:</strong></p> <pre class=highlight><code class=language-bash>CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com</code></pre> <h2 id=versioning>Versioning<a class=headerlink href=#versioning title="Permanent link">&para;</a></h2> <p>The API version is included in responses:</p> <pre class=highlight><code class=language-json>{
  "version": "1.5.6",
  "latest_version": "1.5.6",
  "update_available": false
}</code></pre> <p>Current API version: <strong>v1.5.6</strong></p> <p>No breaking changes are planned. Future versions will maintain backward compatibility.</p> <h2 id=client-libraries>Client Libraries<a class=headerlink href=#client-libraries title="Permanent link">&para;</a></h2> <p>Currently, official client libraries are not available. However, you can:</p> <ol> <li> <p><strong>Generate from OpenAPI</strong>: Use code generators like:</p> </li> <li> <p><a href=https://github.com/OpenAPITools/openapi-generator>openapi-generator</a></p> </li> <li> <p><a href=https://github.com/swagger-api/swagger-codegen>swagger-codegen</a></p> </li> <li> <p><strong>Use HTTP Libraries</strong>: Any standard HTTP client works:</p> </li> <li>JavaScript: <code>fetch</code>, <code>axios</code></li> <li>Python: <code>requests</code>, <code>httpx</code></li> <li>Go: <code>net/http</code></li> <li>PHP: <code>guzzle</code></li> </ol> <h2 id=examples>Examples<a class=headerlink href=#examples title="Permanent link">&para;</a></h2> <h3 id=list-services>List Services<a class=headerlink href=#list-services title="Permanent link">&para;</a></h3> <pre class=highlight><code class=language-bash>curl http://localhost:8000/api/services</code></pre> <pre class=highlight><code class=language-python>import requests

response = requests.get('http://localhost:8000/api/services')
services = response.json()['services']</code></pre> <h3 id=create-service>Create Service<a class=headerlink href=#create-service title="Permanent link">&para;</a></h3> <pre class=highlight><code class=language-bash>curl -X POST http://localhost:8000/api/services \
  -H 'Content-Type: application/json' \
  -d '{
    "name": "My Website",
    "url": "https://example.com",
    "type": "website",
    "interval": 60
  }'</code></pre> <pre class=highlight><code class=language-python>import requests

service = {
    "name": "My Website",
    "url": "https://example.com",
    "type": "website",
    "interval": 60
}

response = requests.post(
    'http://localhost:8000/api/services',
    json=service
)</code></pre> <h3 id=get-plex-activities>Get Plex Activities<a class=headerlink href=#get-plex-activities title="Permanent link">&para;</a></h3> <pre class=highlight><code class=language-bash>curl http://localhost:8000/api/plex/activities</code></pre> <pre class=highlight><code class=language-javascript>const activities = await fetch(
  "http://localhost:8000/api/plex/activities"
).then((res) =&gt; res.json());

console.log(activities);</code></pre> <h2 id=best-practices>Best Practices<a class=headerlink href=#best-practices title="Permanent link">&para;</a></h2> <h3 id=error-handling>Error Handling<a class=headerlink href=#error-handling title="Permanent link">&para;</a></h3> <p>Always check status codes and handle errors:</p> <pre class=highlight><code class=language-javascript>const response = await fetch("/api/services");

if (!response.ok) {
  const error = await response.json();
  console.error("API Error:", error.detail);
  return;
}

const data = await response.json();</code></pre> <h3 id=request-timeouts>Request Timeouts<a class=headerlink href=#request-timeouts title="Permanent link">&para;</a></h3> <p>Set appropriate timeouts:</p> <pre class=highlight><code class=language-python>import requests

try:
    response = requests.get(
        'http://localhost:8000/api/services',
        timeout=5
    )
except requests.Timeout:
    print('Request timed out')</code></pre> <h3 id=retry-logic>Retry Logic<a class=headerlink href=#retry-logic title="Permanent link">&para;</a></h3> <p>Implement retries for transient failures:</p> <pre class=highlight><code class=language-python>from requests.adapters import HTTPAdapter
from requests.packages.urllib3.util.retry import Retry

session = requests.Session()
retry = Retry(total=3, backoff_factor=0.3)
adapter = HTTPAdapter(max_retries=retry)
session.mount('http://', adapter)

response = session.get('http://localhost:8000/api/services')</code></pre> <h2 id=api-reference>API Reference<a class=headerlink href=#api-reference title="Permanent link">&para;</a></h2> <p>Detailed endpoint documentation:</p> <ul> <li><a href=../services/ >Services API</a></li> <li><a href=../plex/ >Plex API</a></li> <li><a href=../traffic/ >Traffic API</a></li> <li><a href=../auth/ >Authentication API</a></li> </ul> <h2 id=interactive-testing>Interactive Testing<a class=headerlink href=#interactive-testing title="Permanent link">&para;</a></h2> <p>Use the Swagger UI at <code>/docs</code> for:</p> <ul> <li>Exploring available endpoints</li> <li>Testing requests with different parameters</li> <li>Viewing response schemas</li> <li>Understanding required fields</li> <li>Downloading OpenAPI specification</li> </ul> <h2 id=support>Support<a class=headerlink href=#support title="Permanent link">&para;</a></h2> <p>Need help with the API?</p> <ul> <li>üìñ <a href=https://cyb3rgh05t.github.io/komandorr>Read the full documentation</a></li> <li>üêõ <a href=https://github.com/cyb3rgh05t/komandorr/issues>Report API bugs</a></li> <li>üí¨ <a href=https://github.com/cyb3rgh05t/komandorr/discussions>Ask questions</a></li> </ul> <br> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../services/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../services/ class="btn btn-xs btn-link"> Services API </a> </div> <div class=wm-article-nav> <a href=../../configuration/traffic-agent/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../../configuration/traffic-agent/ class="btn btn-xs btn-link"> Traffic Agent </a> </div> </div> <br> </div> <footer class="col-md-12 wm-page-content"> <p> <a href=https://github.com/cyb3rgh05t/komandorr/edit/main/docs/api/overview.md>Edit on cyb3rgh05t/komandorr</a> </p><p>Copyright &copy; 2024-2025 cyb3rgh05t</p> <p>Documentation built with <a href=http://www.mkdocs.org/ >MkDocs</a> using <a href=https://github.com/cyb3rgh05t/komandorr>Windmill Dark</a> theme by cyb3rgh05t (noraj).</p> </footer> </body> </html>